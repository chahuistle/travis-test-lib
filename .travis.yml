# Build script for Travis CI
#

# use xenial distribution
dist: xenial

# no need to check for oracle's java
language: java
jdk: openjdk8

# as agreed in our SOP
branches:
  only:
  - master
  - development
  - /^\d+\.\d+\.\d+\.$/ # matches [number].[number].[number]

# added to make logs look cleaner, crisper, certified fresh
before_install: unset _JAVA_OPTIONS 

# speed up builds by telling Travis that we don't need any special "installation"
install: true

script: set

deploy:
- skip_cleanup: true
  provider: script
  script: echo "Development deployment"
  on:
    branch: development
    condition: '"$TRAVIS_EVENT_TYPE" = "push"'
- skip_cleanup: true
  provider: script
  script: echo "Release deployment"
  on:
    branch: master
    condition: '"$TRAVIS_EVENT_TYPE" = "push"'
    tags: true
- skip_cleanup: true
  provider: script
  script: echo "Tagged build deployment, allegedly"
  on:
    condition: '"$TRAVIS_EVENT_TYPE" = "push"'
    tags: true
